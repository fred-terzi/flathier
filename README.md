# flathier

FlatHier is a technical foundation for managing hierarchical data in a flat, ordered JSON format. It is engineered for maximum clarity, version control, and automation in requirements and project data management. FlatHier enables all hierarchical operations—such as add, delete, move, promote, demote, and outline computation—while maintaining a single, human-readable source of truth.

Technical Highlights:
- Flat, ordered JSON structure for efficient diffing and git integration
- Deterministic outline and hierarchy computation for robust data integrity
- Designed for seamless automation and programmatic manipulation
- Enables granular tracking and editing of requirements, features, and project metadata
- Optimized for both manual and automated workflows in modern development environments

Use FlatHier to ensure your project's hierarchical data remains consistent, auditable, and ready for both human and machine consumption.

## Installation

To install FlatHier, run:

```bash
npm install flathier
```

Or for global CLI usage:

```bash
npm install -g flathier
```

After installation, you can import FlatHier modules in your project or use the CLI if installed globally. See the README for more details and usage examples.

## Core Functions

FlatHier's core functions provide all the essential operations needed to manage a flat, ordered hierarchy of items. These include adding, deleting, moving, promoting, demoting, and visualizing items. Each function is modular, well-documented, and thoroughly tested, ensuring robust and predictable behavior for all hierarchy management tasks.

### addObject.js: Insert and ID new object after outline number

The addObject.js module provides a function to insert a new item into a flat hierarchical data array, assign a unique ID, and update outlines. It ensures data integrity and proper error handling.

**Example Usage:**

```js
import flathier from 'flathier';

const data = [
  { outline: '0', title: 'Root', hier: 0 },
  { outline: '1', title: 'First Item', hier: 1 },
  { outline: '1.1', title: 'Child', hier: 1 },
  { outline: '2', title: 'Sibling', hier: 0 },
  { outline: '2.1', title: 'Another Child', hier: 1 }
  // ... more items
];

const newItem = { title: 'New Sibling'};

(async () => {
  const updated = await flathier.addObject(data, '1', newItem);
  // updated now contains the new item after outline '1', with a unique reqt_ID and correct outlines
})();
```

- Note: `addObject` is accessed as a property of the main `flathier` package export. It is asynchronous and returns a Promise.
- If not already present `hier`, `outline`, or `reqt_ID` fields, they will be added to the new item.

### asciiTree.js: Render flat hierarchy as ASCII-art tree

The asciiTree.js module provides a function to visualize a flat hierarchy as an ASCII-art tree, making it easy to inspect structure and relationships.

### deleteObject.js: Delete item by outline and update hierarchy

The deleteObject.js module provides a function to remove an item from a flat hierarchical data array and update outlines, ensuring data integrity.

### demote.js: Demote node and subtree one level

The demote.js module provides a function to demote a node and its subtree, updating the flat hierarchy structure.

### moveDown.js: Move node and subtree down among siblings

The moveDown.js module provides a function to move a node and its subtree down among siblings, updating the flat hierarchy structure.

### moveUp.js: Move node and subtree up among siblings

The moveUp.js module provides a function to move a node and its subtree up among siblings, updating the flat hierarchy structure.

### promote.js: Promote node and subtree one level up

The promote.js module provides a function to promote a node and its subtree, updating the flat hierarchy structure.

## Utilities

README

### buildTree.js: Build nested tree from flat array

The buildTree.js utility provides a function to convert a flat hierarchy into a nested tree, enabling hierarchical operations and visualizations.

### computeOutlines.js: Recompute outline numbers for all items

The computeOutlines.js utility ensures that all items in a flat hierarchy have correct outline numbers after any structural modification.

### editTitle.js: Edit the title of an item by outline

The editTitle.js utility provides a function to update the title of an item in a flat hierarchy by outline number.

### flattenTree.js: Flatten nested tree to flat array

The flattenTree.js utility provides a function to flatten a nested tree structure into a flat array for storage or further processing.

### generateUniqueId.js: Generate unique IDs for items

The generateUniqueId.js utility provides a function to generate unique, timestamp-based IDs for use in hierarchical data structures.

---
Generated by **ReqText v0.1.0-demo.21** on 2025-05-23T01:56:05.306Z

[ReqText Github Repo](https://github.com/joseph-terzi/reqtext)
